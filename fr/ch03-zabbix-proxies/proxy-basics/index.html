
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="This chapter from The Zabbix Book, titled "Proxy Basics," introduces the role
of proxies in a Zabbix environment. It explains how proxies collect monitoring
data, forward it to the server, and help reduce load in distributed setups.
The guide covers installation, configuration, and when to use proxies for
scalability and efficiency.
">
      
      
        <meta name="author" content="The Monitoring Penmasters">
      
      
        <link rel="canonical" href="https://thezabbixbook.com/fr/ch03-zabbix-proxies/proxy-basics/">
      
      
        <link rel="prev" href="../chapter/">
      
      
        <link rel="next" href="../active-passive-proxies/">
      
      
        
          <link rel="alternate" href="./" hreflang="fr">
        
          <link rel="alternate" href="../../../nl/ch03-zabbix-proxies/proxy-basics/" hreflang="nl">
        
          <link rel="alternate" href="../../../pt_BR/ch03-zabbix-proxies/proxy-basics/" hreflang="pt_BR">
        
          <link rel="alternate" href="../../../ru/ch03-zabbix-proxies/proxy-basics/" hreflang="ru">
        
          <link rel="alternate" href="../../../ch03-zabbix-proxies/proxy-basics/" hreflang="en">
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Proxy basics - Zabbix Book</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        
        <link rel="stylesheet" href="../../../assets/external/fonts.googleapis.com/css.49ea35f2.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css?v=514f4d1ef40cb7c1bed03bcbf9a447d4f11fa141">
    
      <link rel="stylesheet" href="../../../stylesheets/linewrap.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
    
    

    <meta property="og:title" content="Proxy basics">
    <meta property="og:description" content="This chapter from The Zabbix Book, titled &#34;Proxy Basics,&#34; introduces the role of proxies in a Zabbix environment. It explains how proxies collect monitoring data, forward it to the server, and help reduce load in distributed setups. The guide covers installation, configuration, and when to use proxies for scalability and efficiency.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://thezabbixbook.com/fr/ch03-zabbix-proxies/proxy-basics/">
    <meta property="og:image" content="https://www.thezabbixbook.com/assets/social-card.jpg">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Proxy basics">
    <meta name="twitter:description" content="This chapter from The Zabbix Book, titled &#34;Proxy Basics,&#34; introduces the role of proxies in a Zabbix environment. It explains how proxies collect monitoring data, forward it to the server, and help reduce load in distributed setups. The guide covers installation, configuration, and when to use proxies for scalability and efficiency.">
    <meta name="twitter:image" content="https://www.thezabbixbook.com/assets/social-card.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="627">

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#proxy-basics" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
    
    
    
    
    <script>
        const gGMC_SELECT_VERSION = "Sélectionner la version";
        const gGMC_TRANSLATE_CTA = "Soutenez-nous et traduisez !";
        const gGMC_PAGE_LOCALE = "fr";
        const gGMC_FILE_LOCALE = "fr";
        const gGMC_TRANSLATE_SVG = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.5 12c0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2 0 .37-.03.73-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10C6.47 2 2 6.5 2 12s4.5 10 10 10c.59 0 1.16-.06 1.72-.16A5.9 5.9 0 0 1 13 19c0-.29.03-.57.07-.85-.32.63-.67 1.24-1.07 1.81-.83-1.2-1.5-2.53-1.91-3.96h3.72a5.95 5.95 0 0 1 2.59-2.4c.06-.53.1-1.06.1-1.6M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2zm.82 2H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m6.34 6H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2m.25-9.56c1.84.63 3.37 1.9 4.33 3.56h-2.95a15.7 15.7 0 0 0-1.38-3.56M23 18v2h-3v3h-2v-3h-3v-2h3v-3h2v3z"/></svg>';
    </script>
    
    

          </div>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="../../" title="Zabbix Book" class="md-header__button md-logo" aria-label="Zabbix Book" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Zabbix Book
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Proxy basics
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="light-blue" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Sélectionner la langue">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="./" hreflang="fr" class="md-select__link">
              Français
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../nl/ch03-zabbix-proxies/proxy-basics/" hreflang="nl" class="md-select__link">
              Nederlands
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../pt_BR/ch03-zabbix-proxies/proxy-basics/" hreflang="pt_BR" class="md-select__link">
              Brazillian Portugese
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../ru/ch03-zabbix-proxies/proxy-basics/" hreflang="ru" class="md-select__link">
              Russian
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../ch03-zabbix-proxies/proxy-basics/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Partager" aria-label="Partager" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/penmasters/zabbix-book" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    penmasters
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../" title="Zabbix Book" class="md-nav__button md-logo" aria-label="Zabbix Book" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Zabbix Book
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/penmasters/zabbix-book" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    penmasters
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Welcome
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Guidelines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Guidelines
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Book Tags
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Supporters-Contributors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Supporters and contributors
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../ch00-getting-started/initial-steps/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Getting started
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../ch01-zabbix-components/chapter/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Chapter 01 : Zabbix components and installation
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../ch02-zabbix-installation/chapter/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Chapter 02 : Zabbix Frontend
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Chapter 03 : Proxies and Webcomponents
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Chapter 03 : Proxies and Webcomponents
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Proxies and the Web services component
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Proxy basics
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Proxy basics
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-a-zabbix-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      
        What is a Zabbix Proxy
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proxy-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Proxy requirements
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Proxy requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proxy-configuration-updates" class="md-nav__link">
    <span class="md-ellipsis">
      
        Proxy configuration updates
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proxy-throttling" class="md-nav__link">
    <span class="md-ellipsis">
      
        Proxy throttling
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#active-versus-passive-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Active versus Passive proxy
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Active versus Passive proxy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#active-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Active proxy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passive-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Passive proxy
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proxy-runtime-control-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Proxy runtime control options
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proxy-firewall" class="md-nav__link">
    <span class="md-ellipsis">
      
        Proxy firewall
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../active-passive-proxies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Active and Passive proxies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../proxies-as-container/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Running Proxies as containers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../proxy-groups/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Proxy groups
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web-services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Web services
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../ch04-zabbix-collecting-data/chapter/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Chapter 04 : Collecting data 
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../ch05-zabbix-triggers/chapter/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Chapter 05 : Triggers
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../ch06-zabbix-templates/chapter/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Chapter 06 : Templates
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../ch07-zabbix-alerts/chapter/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Chapter 07 : Alerting
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../ch08-zabbix-lld/chapter/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Chapter 08 : LLD
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../ch09-zabbix-extending/chapter/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Chapter 09 : Extending Zabbix
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../ch10-zabbix-discovery/network-host-discovery/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Chapter 10 : Discovery
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../ch11-zabbix-visualisation/graphs/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Chapter 11 : Visualisation
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../ch12-zabbix-api/chapter/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Chapter 12 : Zabbix API
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../ch13-advanced-security/chapter/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Chapter 13 : Advanced set up and security
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../ch14-zabbix-maintenance/chapter/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Chapter 14 : Maintenance
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../ch15-zabbix-real-world-examples/chapter/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Chapter 15 : Real world examples
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../print_page/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Print Site
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-a-zabbix-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      
        What is a Zabbix Proxy
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proxy-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Proxy requirements
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Proxy requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proxy-configuration-updates" class="md-nav__link">
    <span class="md-ellipsis">
      
        Proxy configuration updates
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proxy-throttling" class="md-nav__link">
    <span class="md-ellipsis">
      
        Proxy throttling
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#active-versus-passive-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Active versus Passive proxy
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Active versus Passive proxy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#active-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Active proxy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passive-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Passive proxy
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proxy-runtime-control-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Proxy runtime control options
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proxy-firewall" class="md-nav__link">
    <span class="md-ellipsis">
      
        Proxy firewall
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
        
  
  
    <li class="md-path__item">
      <a href="../../" class="md-path__link">
        
  <span class="md-ellipsis">
    Welcome
  </span>

      </a>
    </li>
  

      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../chapter/" class="md-path__link">
          
  <span class="md-ellipsis">
    Chapter 03 : Proxies and Webcomponents
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                


    <a href="../../../print_page/" title="Print Site" class="md-content__button md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 3H6v4h12m1 5a1 1 0 0 1-1-1 1 1 0 0 1 1-1 1 1 0 0 1 1 1 1 1 0 0 1-1 1m-3 7H8v-5h8m3-6H5a3 3 0 0 0-3 3v6h4v4h12v-4h4v-6a3 3 0 0 0-3-3"/></svg>
    </a>



                  







<nav class="md-tags">
  
    
    <span class="md-tag md-tag-icon" data-tag="beginner">
      Débutant
    </span>
  
</nav>



  
  
    
      
    
    <a href="https://github.com/penmasters/zabbix-book/raw/main/docs/fr/ch03-zabbix-proxies/proxy-basics.md" title="Consulter la source de cette page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="proxy-basics">Proxy basics</h1>
<p>In this chapter we will explain what a proxy is, why you may need or consider
it, what the basic requirements are and what the difference is between <em>Active
proxies</em> and <em>Passive proxies</em>.</p>
<hr />
<h2 id="what-is-a-zabbix-proxy">What is a Zabbix Proxy</h2>
<p>A Zabbix proxy is actually a kind of lightweight Zabbix server process that
collects monitoring data from devices on behalf of the real Zabbix server. It's
designed to offload the server by handling data collection tasks, which is
particularly useful in distributed environments or when monitoring remote
locations with limited connectivity.</p>
<p>The proxy gathers the requested performance and availability data from monitored
devices, applications, and services, then forwards this information to the
Zabbix server for processing and storage. This architecture helps reduce network
traffic, simplifies network firewall configurations and improves the overall
efficiency of your monitoring system.</p>
<p>So in short a Zabbix proxy can be used to:</p>
<ul>
<li>Monitor remote locations</li>
<li>Monitor devices on separate network segments</li>
<li>Monitor locations that have unreliable connections</li>
<li>Offload the Zabbix server when monitoring thousands of devices</li>
<li>Simplify the maintenance and management</li>
</ul>
<hr />
<h2 id="proxy-requirements">Proxy requirements</h2>
<p>If you'd like to set up a few proxies for testing or in your production
environment, you'll need some Linux hosts for installation. While proxies are
also available as containers (so you don't necessarily need full VMs), we'll use
a VM in this demonstration to show the installation process. Don't worry, we'll
cover container deployments as well.</p>
<p>Although proxies are generally lightweight, since Zabbix 4.2 they can perform
item value preprocessing which can be CPU-intensive. Therefore, the number of
CPUs and memory you'll need depends on:</p>
<ul>
<li>How many machines you'll be monitoring</li>
<li>How many preprocessing rules you'll implement on your hosts</li>
</ul>
<hr />
<h3 id="proxy-configuration-updates">Proxy configuration updates</h3>
<p>For a proxy to know what devices it has to monitor, it will receive
configuration updates from the <em>Zabbix server</em>. They include:</p>
<ul>
<li>New or modified monitoring items, triggers, or templates assigned to the
  proxy.</li>
<li>Changes to host configurations or data collection rules.</li>
</ul>
<p>Before Zabbix 7.0, a full configuration synchronization was performed by proxies
every 3600 seconds (1 hour) by default. With the introduction of Zabbix 7.0,
this behavior changed significantly. Now, configuration synchronization occurs
much more frequently, every 10 seconds by default, but it's an incremental
update. This means that instead of transferring the entire configuration, only
the modified entities are synchronized, greatly improving efficiency and
reducing network overhead.</p>
<p>Upon initial proxy startup, a full configuration synchronization is still
performed. Subsequently, both the server and the proxy maintain a revision of
the configuration. When a change is made on the server, only the differences,
based on these revision numbers, are applied to the proxy's configuration,
rather than a complete replacement of the entire configuration as in older
versions. This incremental approach allows for near real-time propagation of
configuration changes while minimizing resource consumption.</p>
<details class="note configuration settings vs configuration updates" open="open">
<summary>Note</summary>
<p>When working with a Zabbix proxy, it’s important to distinguish between two 
types of "configuration":</p>
<ul>
<li><strong>Proxy Configuration Settings</strong></li>
</ul>
<dl>
<dd>These are the local settings defined in the proxy’s configuration file. 
They control how the proxy operates.</dd>
</dl>
<ul>
<li><strong>Configuration Updates from the Zabbix Server</strong></li>
</ul>
<dl>
<dd>
<p>These are dynamic updates pushed by the Zabbix server to the proxy.
They include:</p>
<ul>
<li>New or modified monitoring items, triggers, or templates assigned to the proxy.</li>
<li>Changes to host configurations or data collection rules. </li>
</ul>
</dd>
</dl>
</details>
<hr />
<h2 id="proxy-throttling">Proxy throttling</h2>
<p>Imagine that you need to restart your Zabbix server and that all proxies start
to push the data they have gathered during the downtime of the Zabbix server.</p>
<p>This would create a huge amount of data being sent at once to the Zabbix server
and possibly bring it to its knees in no time. Since version 6, Zabbix has added
protection for this kind of situations. When the Zabbix server history cache is
full the history cache write access is being throttled: Zabbix server will stop
accepting data from proxies when history cache usage reaches 80%. Instead those
proxies will be put on a throttling list. This will continue until the cache
usage falls down to 60%. Now the server will start accepting data from the
proxies one by one, defined by the throttling list. This means the first proxy
that attempted to upload data during the throttling period will be served first
and until it's done the server will not accept data from other proxies.</p>
<p>This table gives you an overview of how and when throttling works in Zabbix.</p>
<table>
<thead>
<tr>
<th>History write cache usage</th>
<th>Zabbix server mode</th>
<th>Zabbix server action</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reaches 80%</td>
<td>Wait</td>
<td>Stops accepting proxy data, but maintains a throttling list (prioritized list of proxies to be contacted later).</td>
</tr>
<tr>
<td>Drops to 60%</td>
<td>Throttled</td>
<td>Starts processing throttling list, but still not accepting proxy data.</td>
</tr>
<tr>
<td>Drops to 20%</td>
<td>Normal</td>
<td>Drops the throttling list and starts accepting proxy data normally.</td>
</tr>
</tbody>
</table>
<p>This may cause delays in detection of problems, as you will have to wait for all
relevant data to be received and processed by the Zabbix server; but you won't
lose any historical data.</p>
<hr />
<h2 id="active-versus-passive-proxy">Active versus Passive proxy</h2>
<p>Zabbix proxies have been available since Zabbix 1.6. At that time they where
available only as what we know today as <strong>Active proxies</strong>. <em>Active</em> means that
the proxy will initiate the connection by itself to the Zabbix Server. In
version 1.8.3 <em>passive</em> proxies where introduced. This allowes the server to
connect to the proxy instead of the other way around.</p>
<p>As mentioned before Zabbix agents can be both active <em>and</em> passive however
proxies cannot be both so we have to choose the way of the communication when we
configure a proxy.</p>
<details class="note" open="open">
<summary>Active/Passive agent on Active/Passive proxy ?</summary>
<p>Remember that choosing the proxy mode <em>active</em> or <em>passive</em> has no impact on 
how Zabbix agents can communicate with this proxy. It's perfectly fine to have
an <em>active proxy</em> and a <em>passive agent</em> working together.</p>
</details>
<hr />
<h3 id="active-proxy">Active proxy</h3>
<p>In <em>active</em> mode, the proxy takes full control of its operational settings. This
includes managing when it checks for new configuration updates and when it sends
collected data to the server.</p>
<p>It’s important to note that the key settings for an <em>active proxy</em> are defined
exclusively in the <em>Zabbix proxy</em> configuration. Any adjustments to these
parameters should be made directly within the proxy configuration files.</p>
<p>These are the proxy configuration settings you will need to set in <em>active</em>
mode:</p>
<ul>
<li><code>ProxyMode</code>: <code>0</code> - Sets the proxy in 'Active' mode</li>
<li><code>Server</code>: IP or DNS of the Zabbix server</li>
<li><code>Hostname</code>: Proxy name - this needs to be exactly the same as configured in
  the frontend.</li>
<li><code>ProxyOfflineBuffer</code>: How long we like to keep data in the DB (in hours) if we
  can't reach the <em>Zabbix server</em>.</li>
<li><code>ProxyLocalBuffer</code>: How long we like to keep data in the DB (in hours) even
  when it is already sent to the <em>Zabbix server</em>.</li>
<li><code>ProxyConfigFrequency</code>: Replaces <code>ConfigFrequency</code> in earlier versions and
  defines how often we request configuration updates (every 10 seconds) from the
  <em>Zabbix server</em>.</li>
<li><code>DataSenderFrequency</code>: How often data is sent to <em>Zabbix server</em> (every
  second).</li>
</ul>
<p>When configuring resources for an <em>Active proxy</em>, it’s important to account for
its connection behavior with the <em>Zabbix server</em>. During operation, the proxy
can utilize up to two trapper processes on the server:</p>
<ul>
<li>One trapper is dedicated to sending collected data to the server.</li>
<li>The other trapper is reserved for retrieving configuration updates.</li>
</ul>
<details class="tip" open="open">
<summary>Tip</summary>
<p>To ensure smooth communication, it is considered best practice to allocate two 
trapper processes per <em>Active proxy</em> on the <em>Zabbix server</em>. This configuration 
optimizes performance and prevents potential bottlenecks.</p>
</details>
<p><img alt="Active proxy communication" src="../../../ch03-zabbix-proxies/active-passive-proxies/ch03-active-communication.png" /></p>
<p><em>3.1 Active proxy communication</em></p>
<hr />
<h3 id="passive-proxy">Passive proxy</h3>
<p>In contrast to an <em>active proxy</em>, a proxy in <em>passive</em> mode will have its
operational settings controlled by the <em>Zabbix server</em>.</p>
<p>Hence, configuring <em>passive</em> proxies requires changes in in both the <em>Zabbix
server</em> and the <em>Zabbix proxy</em> configuration files as it is now the server that
controls when and how proxy data is requested by making use of pollers.</p>
<p>The most important setting we can find back in the <em>proxy</em> configuration file
are:</p>
<ul>
<li><code>ProxyMode</code>: <code>1</code> - Sets the proxy in 'Passive' mode</li>
<li><code>Server:</code> IP or DNS of the <em>Zabbix server</em></li>
<li><code>ProxyOfflineBuffer</code>: How long we like to keep data in the DB (in hours) if we
  can't reach the <em>Zabbix server</em>.</li>
<li><code>ProxyLocalBuffer</code>: How long we like to keep data in the DB (in hours) even
  when it is already sent to the <em>Zabbix server</em>.</li>
</ul>
<p>And finally the config settings we need to change on our <em>Zabbix server</em>:</p>
<ul>
<li><code>StartProxyPollers</code>: The number of pollers to contact proxies.</li>
<li><code>ProxyConfigFrequency</code>: Replaces <code>ConfigFrequency</code> and defines how often
  <em>Zabbix server</em> will sent configuration changes to all proxies.</li>
<li><code>ProxyDataFrequency</code>: How often <em>Zabbix server</em> will request monitored data
  from our proxies.</li>
</ul>
<details class="tip" open="open">
<summary>Tip</summary>
<p>It is not required for <code>StartProxyPollers</code> to be equal to the number of 
passive proxies you have as one poller can poll multiple proxies. The 
recommended value however depends on your environment and workload. If you
have multiple passive proxies and experience delays in configuration updates
or incoming item values, you may increase this value. However, it is a good 
practice to start with 1, monitor the performance and adjust in accordance.</p>
<p>Zabbix provides out-of-the-box templates for monitoring <em>Zabbix server</em> and 
<em>Zabbix proxies</em> internal metrics. Make sure to use them and closely watch
the value of the <code>zabbix[proxy_history]</code> item on the proxies which represents
the number of values the proxy has received that are yet to be sent to the 
<em>Zabbix server</em>. </p>
</details>
<p><img alt="Passive proxy communication" src="../../../ch03-zabbix-proxies/active-passive-proxies/ch03-passive-communication.png" /></p>
<p><em>3.2 Passive proxy communication</em></p>
<hr />
<h2 id="proxy-runtime-control-options">Proxy runtime control options</h2>
<p>Just like the <em>Zabbix server</em> our proxy supports runtime control options always
check latest options with the <code>--help</code> option. But here is a short overview of
options available to use.</p>
<dl>
<dt><code>zabbix_proxy --runtime-control housekeeper_execute</code></dt>
<dd>
<p>Triggers the immediate execution of the Zabbix housekeeper process on the
proxy. The housekeeper is responsible for cleaning up outdated data (e.g., old
history, trends, or events) according to the configured retention periods in
Zabbix. This command forces the housekeeper to run now, instead of waiting for
its scheduled interval.</p>
</dd>
<dt><code>zabbix_proxy --runtime-control log_level_increase=target</code></dt>
<dd>
<p>Increases the log verbosity level for a specific target process (e.g., by type
like <code>configuration syncer</code>, <code>housekeeper</code>, <code>icmp pinger</code>, by type and number
like <code>poller,3</code> or by PID). This is useful for debugging or troubleshooting, as
it provides more detailed log output for the specified target. For a full list
of available targets, check the <a href="https://www.zabbix.com/documentation/current/en/manpages/zabbix_proxy">man-page of
<code>zabbix_proxy</code></a>.
<em>Example</em>: <code>log_level_increase="http poller"</code> would make http poller-related
logs more verbose.</p>
</dd>
<dt><code>zabbix_proxy --runtime-control log_level_decrease=target</code></dt>
<dd>
<p>Decreases the log verbosity level for a specific target, reducing the amount
of log output generated. This is helpful to lower noise in logs after debugging
or to optimize performance by reducing I/O overhead. <em>Example</em>:
<code>log_level_decrease=trapper,2</code> would reduce the verbosity of trapper-related
logs of the second trapper process.</p>
</dd>
<dt><code>zabbix_proxy --runtime-control snmp_cache_reload</code></dt>
<dd>
<p>Forces the proxy to reload its SNMP cache. This is useful if you’ve made
changes to SNMP configurations (e.g., updated community strings, OIDs, or device
IPs) and want the proxy to immediately pick up the new settings without
restarting the entire service.</p>
</dd>
<dt><code>zabbix_proxy --runtime-control diaginfo=section</code></dt>
<dd>
<p>Generates diagnostic information for a specific section of the proxy’s
operation. This is typically used for troubleshooting or performance analysis.
The section parameter can target areas like historycache, preprocessing or
locks. <em>Example</em>: <code>diaginfo=preprocessing</code> would provide detailed statistics
about the preprocessing manager.</p>
</dd>
</dl>
<hr />
<h2 id="proxy-firewall">Proxy firewall</h2>
<p>Our proxies work like small <em>Zabbix servers</em> so when it comes to the ports to
connect to agents, SNMP, ... nothing changes, all ports need to be configured
the same as you would on a <em>Zabbix server</em>.</p>
<p>When it comes to port for the proxy it depends on our proxy being <code>active</code> or
<code>passive</code>.</p>
<ul>
<li><strong>Active Proxy:</strong> Zabbix server needs to have port <code>10051/tcp</code> open so proxy
  can connect.</li>
<li><strong>Passive Proxy:</strong> Needs to have port <code>10051/tcp</code> open on the proxy so that
  the <code>server</code> can connect to the proxy.</li>
</ul>
<p>Do note that for an active <em>Zabbix Agent</em> or <em>Zabbix Sender</em> to communicate with
your proxy, wether it is an active or a passive one, this will require port
<code>10051/tcp</code> to be open on your proxy server:</p>
<div class="admonition info">
<p class="admonition-title">Open firewall for zabbix-trapper</p>
<p>Red Hat / SUSE
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>sudo<span class="w"> </span>firewall-cmd<span class="w"> </span>--add-service<span class="o">=</span>zabbix-trapper<span class="w"> </span>--permanent
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>sudo<span class="w"> </span>firewall-cmd<span class="w"> </span>--reload
</span></code></pre></div></p>
<p>Ubuntu
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>sudo<span class="w"> </span>ufw<span class="w"> </span>allow<span class="w"> </span><span class="m">10051</span>/tcp
</span></code></pre></div></p>
</div>







  
  






                

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Retour en haut de la page
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 Stichting The Monitoring Penmasters
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["content.tags", "navigation.expand", "navigation.prune", "navigation.path", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.action.view", "content.tags"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": {"index": "tags.md"}, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": null}</script>
    
    
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../../js/print-site.js"></script>
      
        <script src="../../../js/print-site.js"></script>
      
        <script src="../../../assets/external/cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="../../../javascripts/tags-data-attr.js?v=514f4d1ef40cb7c1bed03bcbf9a447d4f11fa141"></script>
      
    
    
        
		
		
    

  </body>
</html>